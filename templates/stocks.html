{% extends "base.html" %} {% block title %}ðŸ“¦ Stocks{% endblock %} {% block
content %}

<h1 class="text-center mb-4">ðŸ“¦ Material Stocks</h1>

<!-- âœ… Add New Material -->
<div class="card p-4 mb-4 shadow-sm">
  <h4>Add New Material</h4>
  <form method="POST" action="{{ url_for('add_stock') }}">
    <div class="row">
      <div class="col-md-3">
        <input
          name="name"
          class="form-control"
          placeholder="Name (e.g., 3/4 Panel)"
          required
        />
      </div>
      <div class="col-md-4">
        <input
          name="description"
          class="form-control"
          placeholder="Details (e.g., Laminate 2112 White)"
        />
      </div>
      <div class="col-md-2">
        <input
          type="number"
          name="quantity"
          class="form-control"
          placeholder="Qty"
          required
        />
      </div>
      <div class="col-md-2">
        <input
          name="unit"
          class="form-control"
          placeholder="Unit (e.g., pcs)"
        />
      </div>
      <div class="col-md-1">
        <button type="submit" class="btn btn-dark">âž•</button>
      </div>
    </div>
  </form>
</div>

<!-- âœ… List All Materials -->
{% for stock in stocks %}
<div class="card p-3 mb-3 shadow-sm">
  <div class="d-flex justify-content-between align-items-center">
    <div>
      <h5>
        {{ stock.name }}
        <small class="text-muted">({{ stock.unit or 'unit' }})</small>
      </h5>
      <p class="mb-0">{{ stock.description or '' }}</p>
    </div>
    <div>
      <form
        method="POST"
        action="{{ url_for('update_stock', stock_id=stock.id) }}"
        class="d-inline"
      >
        <input type="hidden" name="action" value="decrease" />
        <button class="btn btn-outline-danger">âž–</button>
      </form>
      <span class="mx-2">{{ stock.quantity }}</span>
      <form
        method="POST"
        action="{{ url_for('update_stock', stock_id=stock.id) }}"
        class="d-inline"
      >
        <input type="hidden" name="action" value="increase" />
        <button class="btn btn-outline-success">âž•</button>
      </form>
    </div>
  </div>
</div>
{% else %}
<p class="text-muted text-center">No stock items yet. Add one above!</p>
{% endfor %} {% endblock %}
