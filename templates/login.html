{% extends "base.html" %} 
{% block title %}Login - Cut byZewo{% endblock %} 

{% block content %}
<style>
  .login-container {
    min-height: 80vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .login-card {
    max-width: 450px;
    width: 100%;
    background: linear-gradient(145deg, #ffffff, #f8f9fa);
    border-radius: 20px;
    box-shadow: 
      0 20px 40px rgba(0,0,0,0.1),
      0 0 0 1px rgba(255,255,255,0.5);
    border: none;
    overflow: hidden;
  }
  
  .login-header {
    background: linear-gradient(45deg, var(--dark-wood), var(--wood-brown));
    color: white;
    padding: 2rem;
    text-align: center;
    position: relative;
  }
  
  .login-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" patternUnits="userSpaceOnUse" width="4" height="4"><rect width="4" height="4" fill="%23654321"/><circle cx="1" cy="1" r="0.5" fill="%238B4513" opacity="0.3"/><circle cx="3" cy="3" r="0.3" fill="%23D2B48C" opacity="0.2"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>') repeat;
    opacity: 0.3;
  }
  
  .login-header .icon {
    font-size: 3rem;
    margin-bottom: 1rem;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
  }
  
  .login-header h1 {
    margin: 0;
    font-weight: 700;
    font-size: 1.8rem;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    position: relative;
    z-index: 1;
  }
  
  .login-header p {
    margin: 0.5rem 0 0 0;
    opacity: 0.9;
    font-size: 1rem;
    position: relative;
    z-index: 1;
  }
  
  .login-form {
    padding: 2.5rem;
  }
  
  .form-floating {
    margin-bottom: 1.5rem;
  }
  
  .form-floating .form-control {
    border-radius: 12px;
    border: 2px solid #e9ecef;
    padding: 1rem 0.75rem;
    font-size: 1rem;
    transition: all 0.3s ease;
    background: rgba(255,255,255,0.9);
  }
  
  .form-floating .form-control:focus {
    border-color: var(--wood-brown);
    box-shadow: 0 0 0 0.2rem rgba(139,69,19,0.25);
    background: white;
  }
  
  .form-floating label {
    color: #6c757d;
    font-weight: 500;
  }
  
  .login-btn {
    background: linear-gradient(45deg, var(--wood-brown), var(--dark-wood));
    border: none;
    border-radius: 12px;
    padding: 1rem;
    font-weight: 600;
    font-size: 1.1rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }
  
  .login-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(139,69,19,0.4);
  }
  
  .login-btn:active {
    transform: translateY(0);
  }
  
  .signup-link {
    background: transparent;
    border: 2px solid var(--wood-brown);
    color: var(--wood-brown);
    border-radius: 12px;
    padding: 0.8rem;
    font-weight: 600;
    transition: all 0.3s ease;
    text-decoration: none;
  }
  
  .signup-link:hover {
    background: var(--wood-brown);
    color: white;
    transform: translateY(-1px);
    box-shadow: 0 5px 15px rgba(139,69,19,0.3);
  }
  
  .divider {
    position: relative;
    text-align: center;
    margin: 1.5rem 0;
  }
  
  .divider::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, #dee2e6, transparent);
  }
  
  .divider span {
    background: white;
    padding: 0 1rem;
    color: #6c757d;
    font-size: 0.9rem;
  }
  
  .alert-custom {
    border-radius: 12px;
    border: none;
    background: linear-gradient(145deg, #fff3cd, #fef8e7);
    border-left: 4px solid #ffc107;
    margin-bottom: 1.5rem;
  }
  
  .input-icon {
    position: absolute;
    right: 15px;
    top: 50%;
    transform: translateY(-50%);
    color: #6c757d;
    z-index: 10;
    pointer-events: none;
  }
  
  .password-toggle {
    position: absolute;
    right: 15px;
    top: 50%;
    transform: translateY(-50%);
    color: #6c757d;
    z-index: 10;
    cursor: pointer;
    background: none;
    border: none;
    padding: 0;
  }
  
  .password-toggle:hover {
    color: var(--wood-brown);
  }
</style>

<div class="login-container">
  <div class="card login-card">
    <div class="login-header">
      <div class="icon">ðŸªš</div>
      <h1>Welcome Back</h1>
      <p>Sign in to your Cut byZewo account</p>
    </div>
    
    <div class="login-form">
      {% with messages = get_flashed_messages() %} 
      {% if messages %}
      <div class="alert alert-custom">
        {% for msg in messages %}
        <div><i class="fas fa-exclamation-circle me-2"></i>{{ msg }}</div>
        {% endfor %}
      </div>
      {% endif %} 
      {% endwith %}

      <form method="POST">
        <div class="form-floating position-relative">
          <input type="email" name="email" class="form-control" id="floatingEmail" placeholder="name@example.com" required>
          <label for="floatingEmail">Email Address</label>
          <i class="fas fa-envelope input-icon"></i>
        </div>
        
        <div class="form-floating position-relative">
          <input type="password" name="password" class="form-control" id="floatingPassword" placeholder="Password" required>
          <label for="floatingPassword">Password</label>
          <button type="button" class="password-toggle" onclick="togglePassword()">
            <i class="fas fa-eye" id="passwordIcon"></i>
          </button>
        </div>
        
        <button type="submit" class="btn login-btn w-100 mb-3">
          <i class="fas fa-sign-in-alt me-2"></i>
          Sign In
        </button>
        
        <div class="divider">
          <span>Don't have an account?</span>
        </div>
        
        <a href="{{ url_for('signup') }}" class="btn signup-link w-100">
          <i class="fas fa-user-plus me-2"></i>
          Create New Account
        </a>
      </form>
    </div>
  </div>
</div>

<script>
function togglePassword() {
  const passwordInput = document.getElementById('floatingPassword');
  const passwordIcon = document.getElementById('passwordIcon');
  
  if (passwordInput.type === 'password') {
    passwordInput.type = 'text';
    passwordIcon.className = 'fas fa-eye-slash';
  } else {
    passwordInput.type = 'password';
    passwordIcon.className = 'fas fa-eye';
  }
}
</script>

{% endblock %}
